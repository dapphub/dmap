<!DOC TYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>dmap</title>
    <link rel="icon" type="image/x-icon" href="favicon.ico">
    <style>
      body {
          font-family: monospace;
          max-width: 78ch;
      }
    </style>
    <script defer src="dependencies.unmin.js"></script>
    <script defer src="main.unmin.js"></script>
</head>
<body>

<h1>dmap</h1>

<p>
dmap is a minimal decentralized key-value store built to mitigate the problem of (temporarily) backdoored DNS and certificate authority PKIs. As ENS (the "Ethereum Name System"), dmap uses Ethereum as a storage backend.
</p>

<p>
dmap is implemented as a concise Solidity smart contract allowing users to store a triplet of: `bytes32 key`, `bytes32 meta`, and `bytes32 value`. Setting `bytes32 meta`'s last bit to `1` allows dmap users to lock records permanently.
</p>

<p>
dmap implements name zoning by setting `bytes32 value` to a contract address and allows subzones to have an independent economic functionality compared to their parent zones.
</p>

<h2>use</h2>
<p>
  This page is designed to be saved (as in "File > Save") and be usable even if DNS or this web host go offline or are compromised.
</p>
<p>
  You can also add it to ipfs, which is an easy way to monitor changes:
</p>
<pre>
    wget -r dmap.sh && ipfs add dmap.sh -r --pin --cid-version=1
</pre>
<p>
  Your local ETH thin client and IPFS client are fundamental to securing your software supply chain.
</p>
<p>
  Do not depend on this domain name to resolve to the correct dmap interface.
</p>
<p>
  Make sure you are bootstrapped and can get oriented <a href="https://gateway.pinata.cloud/ipfs/QmabsDLuyDbbfJ9nRo9NUY6WTchNNWCxjfZZ8PVBdkEgva">even if DNS goes offline</a>.
</p>

<p>
The dmap address is <b>0x90949c9937A11BA943C7A72C3FA073a37E3FdD96</b> .
</p>

<h2>configure</h2>
<div>
  <label for="ethNode">eth provider</label>
  <input type="text" id="ethNode" name="ethNode" value="http://127.0.0.1:8545" style='width:60ch'
         title="optional, falls back to window.ethereum (metamask)">
</div>

<div>
    <label for="ipfsNode">ipfs rpc url</label>
    <input type="text" id="ipfsNode" name="ipfsNode" value="http://127.0.0.1:5001" style='width:60ch'
           title="optional, falls back to IPFS gateways">
</div>
</br>

<h2>resolve a dpath</h2>

<div>
    <input type="button" id="btnGet" value="walk">
    <label for="dpath">dmap://</label>
    <input type="text" id="dpath" name="dpath" value=":free.bird" style='width:58ch'>
</div>

<pre id="result"></pre>


<noscript>You need to enable JavaScript to use dmap.</noscript>
</body>
</html>
